<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hugging Face API Model Switcher</title>
</head>
<body>
  <h1>Hugging Face API Model Switcher</h1>

  <label for="modelSelect">Select Model:</label>
  <select id="modelSelect">
    <option value="speechEmotion">Speech Emotion Recognition</option>
    <option value="imageClassification">Image Classification</option>
    <option value="questionAnswering">Question Answering</option>
    <option value="summarization">Text Summarization</option>
    <option value="languageModel">Language Generation</option>
    <option value="imageGeneration">Image Generation</option>
  </select>

  <br><br>

  <label for="inputText">Input:</label>
  <input type="text" id="inputText" placeholder="Enter your text or URL here">
  <br><br>

  <button onclick="sendRequest()">Send Request</button>
  <pre id="responseOutput"></pre>

  <script>
    const HF_API_KEY = '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'; // Replace with your Hugging Face API key

    const models = {
      "speechEmotion": "ehcalabres/wav2vec2-lg-xlsr-en-speech-emotion-recognition",
      "imageClassification": "google/vit-base-patch16-224",
      "questionAnswering": "deepset/roberta-base-squad2",
      "summarization": "facebook/bart-large-cnn",
      "languageModel": "google/gemma-2-2b-it",
      "imageGeneration": "black-forest-labs/FLUX.1-dev"
    };

    async function sendRequest() {
      const modelKey = document.getElementById('modelSelect').value;
      const userInput = document.getElementById('inputText').value;

      if (!models[modelKey]) {
        document.getElementById('responseOutput').textContent = "Model not found.";
        return;
      }

      const modelURL = `https://api-inference.huggingface.co/models/${models[modelKey]}`;
      const data = (modelKey === "speechEmotion" || modelKey === "imageClassification") 
                  ? await fetch(userInput).then(res => res.blob()) 
                  : JSON.stringify({ inputs: userInput });

      try {
        const response = await fetch(modelURL, {
          method: 'POST',
          headers: {
            Authorization: `Bearer ${HF_API_KEY}`,
            'Content-Type': 'application/json'
          },
          body: data
        });

        if (!response.ok) throw new Error(`Error: ${response.statusText}`);
        
        const result = await response.json();
        document.getElementById('responseOutput').textContent = JSON.stringify(result, null, 2);
      } catch (error) {
        document.getElementById('responseOutput').textContent = error;
      }
    }
  </script>
</body>
</html>
