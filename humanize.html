<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Humanizer Balanced v2</title>
<style>
body { font-family: Arial, sans-serif; margin: 20px; background:#f5f5f5; }
h1 { font-size: 24px; }
textarea { width:100%; height:150px; margin-bottom:10px; font-size:16px; padding:10px; }
button { padding:10px 15px; font-size:16px; }
#output { margin-top:20px; white-space:pre-wrap; background:#fff; padding:15px; border:1px solid #ccc; }
</style>
</head>
<body>
<h1>Balanced AI Humanizer v2</h1>
<textarea id="input" placeholder="Paste AI text here"></textarea>
<br>
<button onclick="humanizeText()">Humanize Text</button>
<div id="output"></div>
<script>
function humanizeText() {
    let text = document.getElementById('input').value;
    text = text.replace(/â€”/g,"");

    const subs = { "can":"could", "could":"can", "may":"might", "just":"simply", "really":"truly", "actually":"in fact", "that":"which", "very":"extremely" };
    const conjunctions = ["And","But","Or","So"];

    text = text.split(" ").map(word=>{
        let clean = word.replace(/[^a-zA-Z]/g,"");
        if(subs[clean.toLowerCase()]) word = word.replace(clean, subs[clean.toLowerCase()]);
        // Capitalize first letter only
        if(Math.random()<0.07) word = word.charAt(0).toUpperCase()+word.slice(1).toLowerCase();
        // Random small typos
        if(Math.random()<0.03 && word.length>3) {
            let i=Math.floor(Math.random()*word.length);
            word = word.slice(0,i)+word[i+1]+word[i]+word.slice(i+2);
        }
        // Rarely repeat letters at end
        if(Math.random()<0.02 && word.length>2) word += word[word.length-1];
        return word;
    }).join(" ");

    // Randomly add/remove commas
    text = text.replace(/, /g, m => Math.random()<0.5?", ":" ");

    // Split sentences
    let sentences = text.split(/[.!?]+/).map(s=>s.trim()).filter(s=>s.length>0);
    sentences = sentences.map(s=>{
        // Break long sentences
        if(s.length>120 && Math.random()<0.5){
            let p = Math.floor(s.length/2);
            s = s.slice(0,p)+". "+s.slice(p);
        }
        // Random fillers
        if(Math.random()<0.05) s="Well, "+s;
        if(Math.random()<0.03) s=s+" you know";
        // Occasionally add conjunction at start
        if(Math.random()<0.05) s = conjunctions[Math.floor(Math.random()*conjunctions.length)]+" "+s;
        return s;
    });

    let humanized = sentences.join(". ") + ".";
    document.getElementById('output').innerText = humanized;
}
</script>
</body>
</html>
